<div class="formContenido">
    <div>
        <h3 class="from-tittle">LISTAS DE TRABAJOS DE GRADO.</h3>
        <hr>
        <br>
    </div>

    <!-- <nz-input-group class="buscar" [nzSuffix]="suffixIconSearch">
        <input type="text" nz-input placeholder="Buscar poyecto" #txtBuscarProyecto (keyup.enter)="buscarProyecto()" />
    </nz-input-group>
    <ng-template #suffixIconSearch>
        <span nz-icon nzType="search"></span>
    </ng-template>
    <br />-->

    <br />
    <nz-table #editRowTable nzBordered [nzData]="listOfData">
        <thead>
            <tr>
                <th class="proyecto">Título del proyecto</th>
                <th>Descarga</th>
                <th>Proceso</th>
                <th>Estado</th>
                <th>Nota</th>
                <th>Acción</th>

            </tr>
        </thead>
        <tbody>

            <tr class="editable-row" *ngFor="let project of projects; let i = index">
                <ng-container>
                    <td>
                        <p>{{ project.titulo }}</p>
                    </td>
                    <td><span nz-icon nzType="cloud-download" nzTheme="outline" style="color: blue; margin-left: 40%;" (click)="downloadFile(project._id)"></span></td>
                    <td>{{ project.proceso }}</td>
                    <td>{{ project.estadoProceso }}</td>
                    <td>{{ project.nota }}</td>
                    <td>
                        <span nz-icon nzType="file-done" nzTheme="outline" (click)="showModal(project._id)" style="color: rgb(255, 85, 0); margin-left: 40%;"></span>
                        <nz-modal [(nzVisible)]="isVisible" [nzTitle]="projectId?.titulo" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
                            <ng-container *nzModalContent>
                                <div>
                                    <legend>Seleccionar Proceso</legend>
                                    <label *ngFor="let estadoProyecto of ['Propuesta de grado', 'Anteproyecto', 'Proyecto Final', 'Sustentacion']">
                                        <input type="radio"
                                               name="estadoProyecto"
                                               [value]="estadoProyecto"
                                               [(ngModel)]="selectedProcess"
                                               (change)="onProcessChange(estadoProyecto)">
                                        {{ estadoProyecto }}
                                    </label>
                                    <br><br>

                                    <div style="text-align: center;" *ngIf="selectedProcess === 'Propuesta de grado' || selectedProcess === 'Anteproyecto' || selectedProcess === 'Proyecto Final' || selectedProcess === 'Sustentacion'">
                                        <legend>Ingresar Nota</legend>
                                        <nz-input-number [nzSize]="'large'" [nzMin]="1.0" [nzMax]="5.0" [nzStep]="0.1" [(ngModel)]="demoValue" name="demoValue"></nz-input-number>
                                      </div>
                                      
                                    
                                    <br>
                                    <textarea nz-input placeholder="Realizar comentario" [(ngModel)]="comentario" [nzAutosize]="{ minRows: 3, maxRows: 5 }"></textarea>

                                </div>
                            </ng-container>
                        </nz-modal>
                    </td>
                </ng-container>
            </tr>
        </tbody>
    </nz-table>

</div>